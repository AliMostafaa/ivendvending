(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3358:function(e,r,t){Promise.resolve().then(t.bind(t,8212))},8212:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return n}});var o=t(7437),i=t(2265);let a={rows:6,cols:10,storageKey:"vendingMachineLayout",productImages:{coke:"/Images/coke.png",chips:"/Images/chips.png",water:"/Images/water.png"}};function n(){let[e,r]=(0,i.useState)([]),[t,n]=(0,i.useState)(0),[l,s]=(0,i.useState)(null),[d,c]=(0,i.useState)([]);(0,i.useEffect)(()=>{p(),b()},[]);let p=()=>{r(Array(a.rows).fill(null).map(()=>Array(a.cols).fill(null)))},u=e=>e.charAt(0).toUpperCase()+e.slice(1),g=(r,t,o,i)=>{if(t+o>a.cols||r<0||r>=a.rows||t<0||t>=a.cols)return!1;for(let a=0;a<o;a++){var n;let o=null===(n=e[r])||void 0===n?void 0:n[t+a];if(null!=o&&o!==i)return!1}return!0},x=(e,r,o,i)=>{if(!g(r,o,i)){alert("Cannot place here!");return}n(e=>e+1);let a={id:"prod_".concat(t+1),product:e,size:i,r,c:o};c(e=>[...e,a]),m([...d,a])},f=(t,o,i,a)=>{let n=d.find(e=>e.id===t);if(!n)return;let l=e.map(e=>[...e]);for(let e=0;e<n.size;e++)l[n.r][n.c+e]=null;let s=d.map(e=>e.id===t?{...e,r:o,c:i}:e);c(s);for(let e=0;e<a;e++)l[o][i+e]=t;r(l),m(s)},h=e=>{if(!d.find(r=>r.id===e))return;let r=d.filter(r=>r.id!==e);c(r),m(r)},m=e=>{localStorage.setItem(a.storageKey,JSON.stringify({products:e,itemCounter:t}))},b=()=>{let e=localStorage.getItem(a.storageKey);if(e)try{let r=JSON.parse(e);n(r.itemCounter||0),r.products&&c(r.products)}catch(e){console.error("Error loading layout:",e)}},y=()=>{confirm("Clear all products from the machine?")&&(c([]),n(0),p(),localStorage.removeItem(a.storageKey))},j=(e,r)=>{if(!l)return;let t=d.find(t=>t.r===e&&t.c===r);t?confirm("Replace existing product?")&&(h(t.id),g(e,r,l.size)&&x(l.product,e,r,l.size)):g(e,r,l.size)?x(l.product,e,r,l.size):alert("Cannot place here!")},v=(e,r,t)=>{e.dataTransfer.setData("application/json",JSON.stringify({source:"toolbox",product:r,size:t}))},w=(e,r,t)=>{e.preventDefault();let o=JSON.parse(e.dataTransfer.getData("application/json")),i=o.size;"toolbox"===o.source?x(o.product,r,t,i):"grid"===o.source&&f(o.id,r,t,i)},k=e=>{e.preventDefault()},D=(e,r)=>d.find(t=>t.r===e&&t.c===r);return(0,o.jsxs)("main",{style:{minHeight:"100vh",background:"#222",color:"white",fontFamily:"Arial, sans-serif",textAlign:"center",padding:"20px"},children:[(0,o.jsx)("h2",{children:"\uD83D\uDED2 Vending Machine Layout"}),(0,o.jsx)("p",{style:{color:"#aaa"},children:"Drag items onto the shelves or click to place. Drop in trash to remove."}),(0,o.jsxs)("div",{style:{position:"relative",width:"420px",margin:"0 auto 20px",boxShadow:"0 10px 30px rgba(0,0,0,0.8)",borderRadius:"8px",overflow:"hidden"},children:[(0,o.jsx)("img",{src:"/Images/FullMachineOnlyNew.jpg",alt:"Vending Machine",style:{width:"420px",maxWidth:"100%",height:"auto",display:"block",borderRadius:"8px"}}),(0,o.jsx)("div",{style:{position:"absolute",top:"85px",left:"58px",width:"230px",height:"390px",display:"grid",gridTemplateRows:"repeat(6, 1fr)",gap:"6px"},children:Array(a.rows).fill(null).map((e,r)=>(0,o.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(10, 1fr)",gap:"4px",borderBottom:"1px dashed rgba(255,255,255,0.3)",paddingBottom:"2px"},children:Array(a.cols).fill(null).map((e,t)=>{let i=D(r,t);return(0,o.jsx)("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"4px",position:"relative",cursor:"pointer",transition:"background 0.2s"},onClick:()=>j(r,t),onDragOver:k,onDrop:e=>w(e,r,t),children:i&&(0,o.jsx)("div",{style:{position:"absolute",bottom:0,left:0,height:"100%",width:i.size>1?"".concat(100*i.size,"%"):"100%",borderRadius:"6px",zIndex:10,overflow:"hidden"},children:(0,o.jsx)("img",{src:a.productImages[i.product],alt:i.product,style:{width:"100%",height:"100%",objectFit:"contain"},draggable:!0,onDragStart:e=>{let r={source:"grid",id:i.id,size:i.size,oldR:i.r,oldC:i.c};e.dataTransfer.setData("application/json",JSON.stringify(r))}})})},t)})},r))})]}),(0,o.jsxs)("div",{style:{marginTop:"20px",display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"15px",padding:"10px"},children:[Object.entries(a.productImages).map(e=>{let[r,t]=e,i="chips"===r?2:1,a=(null==l?void 0:l.product)===r;return(0,o.jsxs)("div",{draggable:!0,onDragStart:e=>v(e,r,i),onClick:()=>{(null==l?void 0:l.product)===r?s(null):s({product:r,size:i})},style:{background:"#333",padding:"12px",borderRadius:"8px",cursor:"grab",width:"85px",minHeight:"100px",border:"2px solid ".concat(a?"#4CAF50":"#555"),backgroundColor:a?"#3a5a3a":"#333",transition:"transform 0.2s, background 0.2s, border-color 0.2s",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,o.jsx)("img",{src:t,alt:r,style:{width:"50px",height:"70px",objectFit:"contain",marginBottom:"5px"}}),(0,o.jsxs)("span",{style:{color:"#ccc",fontSize:"0.85rem"},children:[u(r),(0,o.jsx)("br",{}),(0,o.jsxs)("small",{children:[i," Slot",i>1?"s":""]})]})]},r)}),(0,o.jsx)("div",{onClick:y,style:{border:"2px dashed #ff4c4c",color:"#ff4c4c",padding:"15px 25px",borderRadius:"8px",textTransform:"uppercase",fontWeight:"bold",cursor:"pointer",transition:"background 0.2s"},children:"\uD83D\uDDD1ï¸ Trash"}),(0,o.jsx)("button",{onClick:y,style:{background:"#d32f2f",color:"white",border:"none",padding:"12px 20px",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:"Clear All"})]}),(0,o.jsx)("div",{style:{marginTop:"20px",display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",flexWrap:"wrap"},children:(0,o.jsx)("span",{style:{color:"#4CAF50",fontWeight:"bold",padding:"8px 15px",background:"rgba(76,175,80,0.1)",borderRadius:"20px"},children:l?"Selected: ".concat(u(l.product)," (").concat(l.size," slot").concat(l.size>1?"s":"",")"):"Selected: None"})})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=3358)}),_N_E=e.O()}]);